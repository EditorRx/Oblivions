<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Track your watchlist</title>
<style>
  :root{
    --bg:#08121a;
    --card:#0f2a36;
    --muted:#9aa6b0;
    --accent:#19f0ff;
    --accent-2:#ff7f2a;
    --fav:#ff3b5c;
    --glass: rgba(255,255,255,0.03);
    --radius:14px;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    background:var(--bg);
    color:#dfe9ee;
    -webkit-font-smoothing:antialiased;
  }

  .container{
    max-width:980px;
    margin:24px auto;
    padding:20px;
  }

  header{
    display:flex;
    align-items:center;
    padding:14px 20px;
    background:#0b1a22;
    position:sticky;
    top:0;
    z-index:50;
  }
  .hamburger{ cursor:pointer;font-size:22px;margin-right:14px; }
  header h1{ font-size:18px;margin:0; }

  /* Sidebar */
  .sidebar{
    position:fixed;
    top:0;left:0;
    width:250px;
    height:100%;
    background:#0b1a22;
    transform:translateX(-100%);
    transition:transform .3s ease;
    z-index:100;
    padding-top:60px;
  }
  .sidebar.active{transform:translateX(0);}
  .sidebar a{
    display:block;
    padding:14px 20px;
    color:var(--muted);
    text-decoration:none;
    cursor:pointer;
    transition:background .2s,color .2s;
  }
  .sidebar a.active{ color:#fff; background:rgba(255,255,255,0.05);}
  .sidebar a:hover{ color:var(--accent); }

  .overlay{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.5);
    z-index:90;
    display:none;
  }
  .overlay.active{display:block;}

  /* Layout */
  .main{ display:grid; grid-template-columns: 320px 1fr; gap:18px; }
  .profile{
    background:var(--glass); border-radius:var(--radius);
    padding:26px; border:1px solid rgba(255,255,255,0.03);
    height:720px;
  }
  .avatar-wrap{display:flex;flex-direction:column;align-items:center;}
  .avatar{width:150px;height:150px;border-radius:50%;border:8px solid rgba(25,240,255,0.08);overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#05202a,#0b3140);}
  .avatar img{width:100%;height:100%;object-fit:cover;}
  .avatar input[type=file]{display:none;}
  .btn-upload{margin-top:8px;background:transparent;border:1px dashed rgba(255,255,255,0.04);padding:6px 10px;border-radius:10px;color:var(--muted);cursor:pointer;}
  h2{letter-spacing:1px;margin:18px 0 6px;text-align:center;}
  .field{width:100%;padding:8px 12px;border-radius:12px;background:var(--glass);border:1px solid rgba(255,255,255,0.02);color:white;margin-bottom:10px;outline:none;}
  textarea.field{min-height:84px;resize:vertical;}

  .movies-card{background:var(--glass);border-radius:var(--radius);padding:12px;border:1px solid rgba(255,255,255,0.03);height:720px;overflow:auto;}
  .movies-list{display:flex;flex-direction:column;gap:12px;padding:8px;}
  .movie{background:rgba(255,255,255,0.01);border-radius:10px;padding:12px 14px;display:flex;flex-direction:column;gap:8px;border:1px solid rgba(255,255,255,0.02);}
  .movie-row{display:flex;justify-content:space-between;align-items:center;}
  .movie-title{font-weight:600;font-size:15px;}
  .movie-meta{color:var(--muted);font-size:13px;}
  .actions{display:flex;gap:8px;}
  .heart{width:36px;height:36px;border-radius:8px;cursor:pointer;}
  .heart.lit{color:var(--fav);}
  .done-btn{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:6px 10px;border-radius:8px;cursor:pointer;color:var(--muted);}
  .done-btn.primary{background:var(--accent);color:#002129;}
  .no-items{text-align:center;color:var(--muted);padding:40px 0;}

  @media(max-width:880px){
    .main{grid-template-columns:1fr;}
    .profile{height:auto;}
    .movies-card{height:auto;margin-top:14px;}
  }
</style>
</head>
<body>
<header>
  <div class="hamburger" onclick="toggleSidebar()">‚ò∞</div>
  <h1>Track your watchlist</h1>
</header>

<div class="sidebar" id="sidebar">
  <a data-tab="watched" class="active">Watched</a>
  <a data-tab="pending">Pending</a>
  <a data-tab="favorites">Favourite</a>
  <a id="openLink">Watch Movies</a>
  <a id="addMovieBtn">+ Add Movie</a>
</div>
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<div class="container">
  <div class="main">
    <!-- Profile -->
    <div class="profile">
      <div class="avatar-wrap">
        <label class="avatar" id="avatarLabel">
          <img id="avatarImg"
            src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><rect width='100%' height='100%' fill='%2305171b'/></svg>"
            alt="avatar">
          <input type="file" id="avatarInput" accept="image/*">
        </label>
        <button class="btn-upload" id="uploadBtn">Change Photo</button>
      </div>
      <h2>PROFILE</h2>
      <input id="nameInput" class="field" placeholder="Your name" />
      <input id="ageInput" class="field" placeholder="Age" />
      <textarea id="bioInput" class="field" placeholder="A few lines about you..."></textarea>
      <div class="muted" style="margin-top:10px">Tip: Profile data saved in your browser (localStorage).</div>
    </div>

    <!-- Movies -->
    <div class="movies-card">
      <div class="movies-list" id="moviesList"></div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal-back" id="modalBack" style="display:none;align-items:center;justify-content:center;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:200;">
  <div class="modal" style="width:420px;background:#071d24;border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);">
    <h3>Add New Movie</h3>
    <input id="newTitle" class="field" placeholder="Movie title">
    <input id="newNotes" class="field" placeholder="Notes (optional)">
    <div style="display:flex;gap:8px;align-items:center;margin:10px 0;">
      <label style="color:var(--muted);"><input type="checkbox" id="newFav"> Add to Favorites ‚ù§Ô∏è</label>
      <select id="newStatus" class="field" style="padding:6px 10px;width:160px;margin-left:auto;">
        <option value="watched">Add to Watched</option>
        <option value="pending">Add to Pending</option>
      </select>
    </div>
    <div style="display:flex;gap:8px;justify-content:flex-end;">
      <button id="cancelAdd" class="done-btn">Cancel</button>
      <button id="confirmAdd" class="done-btn primary">Add Movie</button>
    </div>
  </div>
</div>

<script>
function toggleSidebar(){
  document.getElementById("sidebar").classList.toggle("active");
  document.getElementById("overlay").classList.toggle("active");
}

const LS_KEY='my_movies_dashboard_v1',LS_PROFILE='my_movies_profile_v1';
let state={movies:[],tab:'watched'};

const $=s=>document.querySelector(s),$$=s=>document.querySelectorAll(s);
function genId(){return 'm_'+Math.random().toString(36).slice(2,9);}
function defaultMovies(){return[{id:genId(),title:"Inception",notes:"Great mind-bending thriller.",isFavorite:false,status:'watched'},{id:genId(),title:"The Matrix",notes:"",isFavorite:true,status:'watched'},{id:genId(),title:"A Pending Movie",notes:"Will watch soon",isFavorite:false,status:'pending'}];}
function load(){try{state.movies=JSON.parse(localStorage.getItem(LS_KEY))||defaultMovies()}catch(e){state.movies=defaultMovies()}const p=JSON.parse(localStorage.getItem(LS_PROFILE)||'{}');$('#avatarImg').src=p.avatar||$('#avatarImg').src;$('#nameInput').value=p.name||'';$('#ageInput').value=p.age||'';$('#bioInput').value=p.bio||'';}
function save(){localStorage.setItem(LS_KEY,JSON.stringify(state.movies))}
function saveProfile(){const p={avatar:$('#avatarImg').src,name:$('#nameInput').value,age:$('#ageInput').value,bio:$('#bioInput').value};localStorage.setItem(LS_PROFILE,JSON.stringify(p))}
function render(){$$('#sidebar a').forEach(a=>{a.classList.remove('active');if(a.dataset.tab===state.tab)a.classList.add('active')});let list=[];if(state.tab==='watched')list=state.movies.filter(m=>m.status==='watched');else if(state.tab==='pending')list=state.movies.filter(m=>m.status==='pending');else if(state.tab==='favorites')list=state.movies.filter(m=>m.isFavorite);const ml=$('#moviesList');ml.innerHTML='';if(!list.length){ml.innerHTML='<div class="no-items">No movies here.</div>';return}list.forEach(m=>{const el=document.createElement('div');el.className='movie';if(m.status==='watched')el.classList.add('watched');if(m.status==='pending')el.classList.add('pending');if(m.isFavorite)el.classList.add('favorite');el.innerHTML=`<div class="movie-row"><div><div class="movie-title">${m.title}</div><div class="movie-meta">${m.isFavorite?'Favourite':m.status}</div></div><div class="actions"><button class="heart ${m.isFavorite?'lit':''}">${m.isFavorite?'‚ù§Ô∏è':'ü§ç'}</button></div></div><div class="movie-footer">${m.status==='pending'?'<button class="done-btn primary">Done</button>':''}<button class="done-btn">Remove</button></div>`;el.querySelector('.heart').onclick=()=>{m.isFavorite=!m.isFavorite;save();render()};if(m.status==='pending')el.querySelector('.done-btn.primary').onclick=()=>{m.status='watched';save();render()};el.querySelector('.done-btn:last-child').onclick=()=>{if(confirm('Remove movie?')){state.movies=state.movies.filter(x=>x.id!==m.id);save();render()}};ml.appendChild(el)})}

$('#uploadBtn').onclick=()=>$('#avatarInput').click();
$('#avatarInput').onchange=e=>{const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=ev=>{$('#avatarImg').src=ev.target.result;saveProfile()};r.readAsDataURL(f)};
$('#nameInput').oninput=saveProfile;$('#ageInput').oninput=saveProfile;$('#bioInput').oninput=saveProfile;

$$('#sidebar a').forEach(a=>{if(a.dataset.tab)a.onclick=()=>{state.tab=a.dataset.tab;render();toggleSidebar()}});

$('#openLink').onclick=()=>window.open('https://Freemovies.openinapp.link/Movie-haunt','_blank');
$('#addMovieBtn').onclick=()=>{$('#modalBack').style.display='flex';toggleSidebar()};
$('#cancelAdd').onclick=()=>$('#modalBack').style.display='none';
$('#confirmAdd').onclick=()=>{const t=$('#newTitle').value.trim();if(!t){alert('Enter movie title');return}const m={id:genId(),title:t,notes:$('#newNotes').value.trim(),isFavorite:$('#newFav').checked,status:$('#newStatus').value};state.movies.unshift(m);save();$('#modalBack').style.display='none';$('#newTitle').value='';$('#newNotes').value='';$('#newFav').checked=false;$('#newStatus').value='watched';render()};

load();render();
</script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Track your watchlist</title>
<style>
  :root{
    --bg:#08121a;
    --card:#0f2a36;
    --muted:#9aa6b0;
    --accent:#19f0ff;
    --accent-2:#ff7f2a;
    --fav:#ff3b5c;
    --glass: rgba(255,255,255,0.03);
    --radius:14px;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    background:var(--bg);
    color:#dfe9ee;
    -webkit-font-smoothing:antialiased;
  }

  .container{
    max-width:980px;
    margin:24px auto;
    padding:20px;
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:14px 20px;
    background:#0b1a22;
    position:sticky;
    top:0;
    z-index:50;
  }
  .hamburger{ cursor:pointer;font-size:22px;margin-right:14px; }
  header h1{ font-size:18px;margin:0; }

  /* Sidebar */
  .sidebar{
    position:fixed;
    top:0;left:0;
    width:250px;
    height:100%;
    background:#0b1a22;
    transform:translateX(-100%);
    transition:transform .3s ease;
    z-index:100;
    padding-top:60px;
  }
  .sidebar.active{transform:translateX(0);}
  .sidebar a{
    display:block;
    padding:14px 20px;
    color:var(--muted);
    text-decoration:none;
    cursor:pointer;
    transition:background .2s,color .2s;
  }
  .sidebar a.active{ color:#fff; background:rgba(255,255,255,0.05);}
  .sidebar a:hover{ color:var(--accent); }

  .overlay{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.5);
    z-index:90;
    display:none;
  }
  .overlay.active{display:block;}

  /* Layout */
  .main{ display:grid; grid-template-columns: 320px 1fr; gap:18px; }
  .profile{
    background:var(--glass); border-radius:var(--radius);
    padding:26px; border:1px solid rgba(255,255,255,0.03);
    height:720px;
  }
  .avatar-wrap{display:flex;flex-direction:column;align-items:center;}
  .avatar{width:150px;height:150px;border-radius:50%;border:8px solid rgba(25,240,255,0.08);overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#05202a,#0b3140);}
  .avatar img{width:100%;height:100%;object-fit:cover;}
  .avatar input[type=file]{display:none;}
  .btn-upload{margin-top:8px;background:transparent;border:1px dashed rgba(255,255,255,0.04);padding:6px 10px;border-radius:10px;color:var(--muted);cursor:pointer;}
  h2{letter-spacing:1px;margin:18px 0 6px;text-align:center;}
  .field{width:100%;padding:8px 12px;border-radius:12px;background:var(--glass);border:1px solid rgba(255,255,255,0.02);color:white;margin-bottom:10px;outline:none;}
  textarea.field{min-height:84px;resize:vertical;}

  .movies-card{background:var(--glass);border-radius:var(--radius);padding:12px;border:1px solid rgba(255,255,255,0.03);height:720px;overflow:auto;}
  .movies-list{display:flex;flex-direction:column;gap:12px;padding:8px;}
  .movie{background:rgba(255,255,255,0.01);border-radius:10px;padding:12px 14px;display:flex;flex-direction:column;gap:8px;border:1px solid rgba(255,255,255,0.02);}
  .movie-row{display:flex;justify-content:space-between;align-items:center;}
  .movie-title{font-weight:600;font-size:15px;}
  .movie-meta{color:var(--muted);font-size:13px;}
  .actions{display:flex;gap:8px;}
  .heart{width:36px;height:36px;border-radius:8px;cursor:pointer;}
  .heart.lit{color:var(--fav);}
  .done-btn{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:6px 10px;border-radius:8px;cursor:pointer;color:var(--muted);}
  .done-btn.primary{background:var(--accent);color:#002129;}
  .no-items{text-align:center;color:var(--muted);padding:40px 0;}

  @media(max-width:880px){
    .main{grid-template-columns:1fr;}
    .profile{height:auto;}
    .movies-card{height:auto;margin-top:14px;}
  }
</style>
</head>
<body>
<header>
  <div style="display:flex;align-items:center;">
    <div class="hamburger" onclick="toggleSidebar()">☰</div>
    <h1 id="headerTitle">Track your watchlist</h1>
  </div>
  <select id="modeSelect" style="background:var(--glass);border:1px solid rgba(255,255,255,0.02);color:white;padding:6px 10px;border-radius:8px;">
    <option value="movies">Movies</option>
    <option value="work">Work</option>
  </select>
</header>

<div class="sidebar" id="sidebar">
  <a id="tabCompleted" data-tab="completed" class="active">Watched</a>
  <a id="tabPending" data-tab="pending">Pending</a>
  <a id="tabFavorites" data-tab="favorites">Favourite</a>
  <a id="openLink">Watch Movies</a>
  <a id="addBtn">+ Add Movie</a>
</div>
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<div class="container">
  <div class="main">
    <!-- Profile -->
    <div class="profile">
      <div class="avatar-wrap">
        <label class="avatar" id="avatarLabel">
          <img id="avatarImg"
            src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><rect width='100%' height='100%' fill='%2305171b'/></svg>"
            alt="avatar">
          <input type="file" id="avatarInput" accept="image/*">
        </label>
        <button class="btn-upload" id="uploadBtn">Change Photo</button>
      </div>
      <h2>PROFILE</h2>
      <input id="nameInput" class="field" placeholder="Your name" />
      <input id="ageInput" class="field" placeholder="Age" />
      <textarea id="bioInput" class="field" placeholder="A few lines about you..."></textarea>
      <div class="muted" style="margin-top:10px">Tip: Profile data saved in your browser (localStorage).</div>
    </div>

    <!-- Movies -->
    <div class="movies-card">
      <div class="movies-list" id="moviesList"></div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal-back" id="modalBack" style="display:none;align-items:center;justify-content:center;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:200;">
  <div class="modal" style="width:420px;background:#071d24;border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);">
    <h3 id="modalTitle">Add New Movie</h3>
    <input id="newTitle" class="field" placeholder="Movie title">
    <input id="newNotes" class="field" placeholder="Notes (optional)">
    <div style="display:flex;gap:8px;align-items:center;margin:10px 0;">
      <label style="color:var(--muted);"><input type="checkbox" id="newFav"> Add to Favorites ❤️</label>
      <select id="newStatus" class="field" style="padding:6px 10px;width:160px;margin-left:auto;">
        <option value="watched">Add to Watched</option>
        <option value="pending">Add to Pending</option>
      </select>
    </div>
    <div style="display:flex;gap:8px;justify-content:flex-end;">
      <button id="cancelAdd" class="done-btn">Cancel</button>
      <button id="confirmAdd" class="done-btn primary">Add Movie</button>
    </div>
  </div>
</div>

<script>
function toggleSidebar(){
  document.getElementById("sidebar").classList.toggle("active");
  document.getElementById("overlay").classList.toggle("active");
}

const LS_KEY_MOVIES='my_movies_dashboard_v1', LS_KEY_TASKS='my_work_dashboard_v1', LS_PROFILE='my_movies_profile_v1', LS_MODE='my_dashboard_mode';
let state={movies:[], tasks:[], tab:'completed', mode:'movies'};

const $=s=>document.querySelector(s),$$=s=>document.querySelectorAll(s);
function genId(){return 'm_'+Math.random().toString(36).slice(2,9);}
function defaultMovies(){return[{id:genId(),title:"Inception",notes:"Great mind-bending thriller.",isFavorite:false,status:'watched'},{id:genId(),title:"The Matrix",notes:"",isFavorite:true,status:'watched'},{id:genId(),title:"A Pending Movie",notes:"Will watch soon",isFavorite:false,status:'pending'}];}
function load(){try{state.movies=JSON.parse(localStorage.getItem(LS_KEY_MOVIES))||defaultMovies()}catch(e){state.movies=defaultMovies()}try{state.tasks=JSON.parse(localStorage.getItem(LS_KEY_TASKS))||[]}catch(e){state.tasks=[]}state.mode=localStorage.getItem(LS_MODE)||'movies';const p=JSON.parse(localStorage.getItem(LS_PROFILE)||'{}');$('#avatarImg').src=p.avatar||$('#avatarImg').src;$('#nameInput').value=p.name||'';$('#ageInput').value=p.age||'';$('#bioInput').value=p.bio||'';}
function save(){if(state.mode==='movies'){localStorage.setItem(LS_KEY_MOVIES,JSON.stringify(state.movies))}else{localStorage.setItem(LS_KEY_TASKS,JSON.stringify(state.tasks))}}
function saveProfile(){const p={avatar:$('#avatarImg').src,name:$('#nameInput').value,age:$('#ageInput').value,bio:$('#bioInput').value};localStorage.setItem(LS_PROFILE,JSON.stringify(p))}
function getLabels(){if(state.mode==='movies'){return{header:'Track your watchlist',tabDone:'Watched',tabPending:'Pending',tabFavorites:'Favourite',openLabel:'Watch Movies',openUrl:'https://Freemovies.openinapp.link/Movie-haunt',addBtn:'+ Add Movie',modalTitle:'Add New Movie',titlePlaceholder:'Movie title',statusDone:'watched',addToDone:'Add to Watched',addToPending:'Add to Pending',metaDone:'Watched',noItems:'movies'}}else{return{header:'Track your worklist',tabDone:'Done',tabPending:'Pending',tabFavorites:'Favourite',openLabel:'Boost',openUrl:'https://editorrx.github.io/Not-available-/',addBtn:'+ Add Work',modalTitle:'Add New Work',titlePlaceholder:'Work title',statusDone:'done',addToDone:'Add to Done',addToPending:'Add to Pending',metaDone:'Done',noItems:'work items'}}}
function setModalLabels(){const labels=getLabels();$('#modalTitle').textContent=labels.modalTitle;$('#newTitle').placeholder=labels.titlePlaceholder;const select=$('#newStatus');select.innerHTML='';const opt1=document.createElement('option');opt1.value=labels.statusDone;opt1.textContent=labels.addToDone;select.appendChild(opt1);const opt2=document.createElement('option');opt2.value='pending';opt2.textContent=labels.addToPending;select.appendChild(opt2);}
function render(){const labels=getLabels();const currentList=state.mode==='movies'?state.movies:state.tasks;const completedStatus=labels.statusDone;$('#headerTitle').textContent=labels.header;$('#tabCompleted').textContent=labels.tabDone;$('#tabPending').textContent=labels.tabPending;$('#tabFavorites').textContent=labels.tabFavorites;$('#openLink').textContent=labels.openLabel;$('#addBtn').textContent=labels.addBtn;$$('#sidebar a').forEach(a=>{a.classList.remove('active');if(a.dataset.tab===state.tab)a.classList.add('active')});let list=[];if(state.tab==='completed')list=currentList.filter(m=>m.status===completedStatus);else if(state.tab==='pending')list=currentList.filter(m=>m.status==='pending');else if(state.tab==='favorites')list=currentList.filter(m=>m.isFavorite);const ml=$('#moviesList');ml.innerHTML='';if(!list.length){ml.innerHTML=`<div class="no-items">No ${labels.noItems} here.</div>`;return}list.forEach(m=>{const el=document.createElement('div');el.className='movie';if(m.status===completedStatus)el.classList.add('completed');if(m.status==='pending')el.classList.add('pending');if(m.isFavorite)el.classList.add('favorite');el.innerHTML=`<div class="movie-row"><div><div class="movie-title">${m.title}</div><div class="movie-meta">${m.isFavorite?'Favourite':(m.status===completedStatus?labels.metaDone:'Pending')}</div></div><div class="actions"><button class="heart ${m.isFavorite?'lit':''}">${m.isFavorite?'❤️':'🤍'}</button></div></div><div class="movie-footer">${m.status==='pending'?'<button class="done-btn primary">Done</button>':''}<button class="done-btn">Remove</button></div>`;el.querySelector('.heart').onclick=()=>{m.isFavorite=!m.isFavorite;save();render()};if(m.status==='pending')el.querySelector('.done-btn.primary').onclick=()=>{m.status=completedStatus;save();render()};el.querySelector('.done-btn:last-child').onclick=()=>{if(confirm('Remove item?')){const index=currentList.findIndex(x=>x.id===m.id);if(index!==-1)currentList.splice(index,1);save();render()}};ml.appendChild(el)}) }

$('#uploadBtn').onclick=()=>$('#avatarInput').click();
$('#avatarInput').onchange=e=>{const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=ev=>{$('#avatarImg').src=ev.target.result;saveProfile()};r.readAsDataURL(f)};
$('#nameInput').oninput=saveProfile;$('#ageInput').oninput=saveProfile;$('#bioInput').oninput=saveProfile;

$$('#sidebar a').forEach(a=>{if(a.dataset.tab)a.onclick=()=>{state.tab=a.dataset.tab;render();toggleSidebar()}});

$('#openLink').onclick=()=>{const labels=getLabels();window.open(labels.openUrl,'_blank')};
$('#addBtn').onclick=()=>{setModalLabels();$('#modalBack').style.display='flex';toggleSidebar()};
$('#cancelAdd').onclick=()=>$('#modalBack').style.display='none';
$('#confirmAdd').onclick=()=>{const t=$('#newTitle').value.trim();if(!t){alert('Enter title');return}const currentList=state.mode==='movies'?state.movies:state.tasks;const m={id:genId(),title:t,notes:$('#newNotes').value.trim(),isFavorite:$('#newFav').checked,status:$('#newStatus').value};currentList.unshift(m);save();$('#modalBack').style.display='none';$('#newTitle').value='';$('#newNotes').value='';$('#newFav').checked=false;$('#newStatus').value='watched';render()};
$('#modeSelect').value=state.mode;
$('#modeSelect').onchange=()=>{state.mode=$('#modeSelect').value;localStorage.setItem(LS_MODE,state.mode);render()};

load();render();
</script>
</body>
</html>
